<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamHome Real Estate</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .image-gallery {
            position: relative;
            overflow: hidden;
        }
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.8);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
        }
        .prev-img { left: 10px; }
        .next-img { right: 10px; }
        .favorite-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.8);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 5;
        }
        .favorite-btn.active i {
            color: #e53e3e;
        }
        .favorite-btn:hover {
            background: white;
        }
        .price-range-slider .range-track {
            height: 6px;
            border-radius: 3px;
            background: #e2e8f0;
        }
        .price-range-slider .range-track .range-progress {
            height: 6px;
            background: #4299e1;
            border-radius: 3px;
        }
        .range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            border: 2px solid #4299e1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
        }
        .virtual-tour-modal {
            display: none;
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
        }
        .virtual-tour-content {
            margin: 5% auto;
            padding: 20px;
            width: 90%;
            max-width: 1000px;
            position: relative;
        }
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            color: white;
            font-size: 30px;
            cursor: pointer;
        }
        .testimonial-slider {
            overflow: hidden;
            position: relative;
        }
        .testimonial-slide {
            transition: transform 0.4s ease;
        }
        .compare-properties {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            z-index: 40;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
        }
        .compare-property {
            position: relative;
        }
        .remove-compare {
            position: absolute;
            top: 5px;
            right: 5px;
            cursor: pointer;
            background: rgba(255,255,255,0.8);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .map-container {
            height: 500px;
            width: 100%;
            background-color: #f0f0f0;
            position: relative;
        }
        .map-marker {
            position: absolute;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }
        .map-marker.house { background-color: #3182ce; }
        .map-marker.apartment { background-color: #805ad5; }
        .map-marker.condo { background-color: #dd6b20; }
        .map-popup {
            position: absolute;
            width: 250px;
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 1rem;
            z-index: 10;
            display: none;
        }
        .map-popup:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 10px 10px 0;
            border-style: solid;
            border-color: white transparent transparent;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .virtual-tour-content {
                margin: 15% auto;
                width: 95%;
            }
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Header Section -->
    <header class="bg-white shadow-md sticky top-0 z-30">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <a href="#" class="text-2xl font-bold text-blue-600">DreamHome</a>
                    <nav class="hidden md:flex ml-10 space-x-8">
                        <a href="#" class="font-medium text-gray-700 hover:text-blue-600">Buy</a>
                        <a href="#" class="font-medium text-gray-700 hover:text-blue-600">Rent</a>
                        <a href="#" class="font-medium text-gray-700 hover:text-blue-600">Sell</a>
                        <a href="#" class="font-medium text-gray-700 hover:text-blue-600">Agents</a>
                        <a href="#" class="font-medium text-gray-700 hover:text-blue-600">Resources</a>
                    </nav>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="#" class="hidden md:inline-block text-blue-600 hover:text-blue-800">Login</a>
                    <a href="#" class="hidden md:inline-block bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Sign Up</a>
                    <button class="md:hidden text-gray-700" id="mobile-menu-button">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden mt-4 pb-2">
                <nav class="flex flex-col space-y-3">
                    <a href="#" class="font-medium text-gray-700 hover:text-blue-600 py-2">Buy</a>
                    <a href="#" class="font-medium text-gray-700 hover:text-blue-600 py-2">Rent</a>
                    <a href="#" class="font-medium text-gray-700 hover:text-blue-600 py-2">Sell</a>
                    <a href="#" class="font-medium text-gray-700 hover:text-blue-600 py-2">Agents</a>
                    <a href="#" class="font-medium text-gray-700 hover:text-blue-600 py-2">Resources</a>
                    <div class="flex space-x-4 pt-2">
                        <a href="#" class="text-blue-600 hover:text-blue-800">Login</a>
                        <a href="#" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Sign Up</a>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section with Search -->
    <section class="relative h-[500px] md:h-[600px] bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1582407947304-fd86f028f716?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2000&q=80');">
        <div class="absolute inset-0 bg-black opacity-40"></div>
        <div class="container mx-auto px-4 h-full flex items-center justify-center relative z-10">
            <div class="text-center max-w-4xl">
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6">Find Your Dream Home</h1>
                <p class="text-xl text-white mb-8">Discover the perfect property that fits your lifestyle and budget</p>
                
                <!-- Property Search Form -->
                <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-4xl mx-auto">
                    <div class="flex flex-wrap -mx-2">
                        <div class="w-full md:w-1/3 px-2 mb-4 md:mb-0">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Location</label>
                            <input type="text" placeholder="City, Zip or Neighborhood" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="w-full md:w-1/3 px-2 mb-4 md:mb-0">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Property Type</label>
                            <select class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">All Properties</option>
                                <option value="house">Houses</option>
                                <option value="apartment">Apartments</option>
                                <option value="condo">Condos</option>
                                <option value="townhouse">Townhouses</option>
                            </select>
                        </div>
                        <div class="w-full md:w-1/3 px-2">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Price Range</label>
                            <select class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">Any Price</option>
                                <option value="0-200000">$0 - $200,000</option>
                                <option value="200000-500000">$200,000 - $500,000</option>
                                <option value="500000-1000000">$500,000 - $1,000,000</option>
                                <option value="1000000+">$1,000,000+</option>
                            </select>
                        </div>
                    </div>
                    <div class="flex justify-center mt-6">
                        <button class="bg-blue-600 text-white px-8 py-3 rounded-md hover:bg-blue-700 transition flex items-center">
                            <i class="fas fa-search mr-2"></i> Search Properties
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Property Filter Section -->
    <section class="bg-white py-12">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-10">Find Your Perfect Property</h2>
            
            <div class="bg-gray-50 rounded-lg p-6 shadow-md">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div>
                        <label class="block text-gray-700 text-sm font-medium mb-2">Property Status</label>
                        <div class="flex gap-4">
                            <label class="inline-flex items-center">
                                <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600" checked>
                                <span class="ml-2 text-gray-700">For Sale</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                                <span class="ml-2 text-gray-700">For Rent</span>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 text-sm font-medium mb-2">Property Type</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">All Types</option>
                            <option value="house">Houses</option>
                            <option value="apartment">Apartments</option>
                            <option value="condo">Condos</option>
                            <option value="townhouse">Townhouses</option>
                            <option value="land">Land</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 text-sm font-medium mb-2">Bedrooms</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Any</option>
                            <option value="1">1+</option>
                            <option value="2">2+</option>
                            <option value="3">3+</option>
                            <option value="4">4+</option>
                            <option value="5">5+</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 text-sm font-medium mb-2">Bathrooms</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Any</option>
                            <option value="1">1+</option>
                            <option value="2">2+</option>
                            <option value="3">3+</option>
                            <option value="4">4+</option>
                        </select>
                    </div>
                </div>
                
                <div class="mt-6">
                    <label class="block text-gray-700 text-sm font-medium mb-2">Price Range: $100,000 - $1,500,000</label>
                    <div class="price-range-slider relative mt-4 mx-4">
                        <div class="range-track">
                            <div class="range-progress" style="left: 10%; right: 20%"></div>
                        </div>
                        <div class="range-thumb absolute top-0 mt-[-7px]" style="left: 10%"></div>
                        <div class="range-thumb absolute top-0 mt-[-7px]" style="left: 80%"></div>
                    </div>
                </div>
                
                <div class="mt-8">
                    <h3 class="text-gray-700 text-sm font-medium mb-3">Features</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2 text-gray-700">Air Conditioning</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2 text-gray-700">Swimming Pool</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2 text-gray-700">Garden</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2 text-gray-700">Garage</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2 text-gray-700">Fireplace</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2 text-gray-700">Balcony</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2 text-gray-700">Elevator</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2 text-gray-700">Waterfront</span>
                        </label>
                    </div>
                </div>
                
                <div class="flex flex-wrap items-center justify-between mt-8">
                    <button class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-50 transition">
                        Reset Filters
                    </button>
                    <button class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition">
                        Apply Filters
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Properties Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-10">
                <h2 class="text-3xl font-bold">Featured Properties</h2>
                <div class="flex space-x-2">
                    <button class="bg-white border border-gray-300 text-gray-700 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-50 transition">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="bg-white border border-gray-300 text-gray-700 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-50 transition">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Property Card 1 -->
                <div class="bg-white rounded-lg overflow-hidden shadow-md transition-transform duration-300 property-card">
                    <div class="relative image-gallery">
                        <div class="favorite-btn" onclick="toggleFavorite(this)">
                            <i class="far fa-heart text-gray-600"></i>
                        </div>
                        <img src="https://images.unsplash.com/photo-1613977257363-707ba9348227?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80" alt="Property Image" class="w-full h-64 object-cover">
                        <div class="absolute bottom-0 left-0 bg-blue-600 text-white py-1 px-3">
                            For Sale
                        </div>
                        <div class="gallery-nav prev-img">
                            <i class="fas fa-chevron-left"></i>
                        </div>
                        <div class="gallery-nav next-img">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2">Modern Waterfront Villa</h3>
                        <p class="text-gray-500 mb-4">123 Lakeside Drive, Miami, FL</p>
                        <div class="flex justify-between mb-4">
                            <span class="text-2xl font-bold text-blue-600">$1,250,000</span>
                            <button class="text-blue-600 hover:underline" onclick="addToCompare(1)">Compare</button>
                        </div>
                        <div class="flex justify-between text-gray-600 mb-6">
                            <span><i class="fas fa-bed mr-2"></i>4 Beds</span>
                            <span><i class="fas fa-bath mr-2"></i>3.5 Baths</span>
                            <span><i class="fas fa-ruler-combined mr-2"></i>3,200 Sq Ft</span>
                        </div>
                        <div class="flex space-x-3">
                            <button class="flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition">View Details</button>
                            <button class="bg-white border border-blue-600 text-blue-600 py-2 px-4 rounded-md hover:bg-blue-50 transition" onclick="openVirtualTour()">
                                <i class="fas fa-vr-cardboard mr-2"></i>Virtual Tour
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Property Card 2 -->
                <div class="bg-white rounded-lg overflow-hidden shadow-md transition-transform duration-300 property-card">
                    <div class="relative image-gallery">
                        <div class="favorite-btn" onclick="toggleFavorite(this)">
                            <i class="far fa-heart text-gray-600"></i>
                        </div>
                        <img src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80" alt="Property Image" class="w-full h-64 object-cover">
                        <div class="absolute bottom-0 left-0 bg-blue-600 text-white py-1 px-3">
                            For Sale
                        </div>
                        <div class="gallery-nav prev-img">
                            <i class="fas fa-chevron-left"></i>
                        </div>
                        <div class="gallery-nav next-img">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2">Downtown Luxury Apartment</h3>
                        <p class="text-gray-500 mb-4">456 Central Avenue, New York, NY</p>
                        <div class="flex justify-between mb-4">
                            <span class="text-2xl font-bold text-blue-600">$850,000</span>
                            <button class="text-blue-600 hover:underline" onclick="addToCompare(2)">Compare</button>
                        </div>
                        <div class="flex justify-between text-gray-600 mb-6">
                            <span><i class="fas fa-bed mr-2"></i>2 Beds</span>
                            <span><i class="fas fa-bath mr-2"></i>2 Baths</span>
                            <span><i class="fas fa-ruler-combined mr-2"></i>1,450 Sq Ft</span>
                        </div>
                        <div class="flex space-x-3">
                            <button class="flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition">View Details</button>
                            <button class="bg-white border border-blue-600 text-blue-600 py-2 px-4 rounded-md hover:bg-blue-50 transition" onclick="openVirtualTour()">
                                <i class="fas fa-vr-cardboard mr-2"></i>Virtual Tour
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Property Card 3 -->
                <div class="bg-white rounded-lg overflow-hidden shadow-md transition-transform duration-300 property-card">
                    <div class="relative image-gallery">
                        <div class="favorite-btn" onclick="toggleFavorite(this)">
                            <i class="far fa-heart text-gray-600"></i>
                        </div>
                        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80" alt="Property Image" class="w-full h-64 object-cover">
                        <div class="absolute bottom-0 left-0 bg-purple-600 text-white py-1 px-3">
                            For Rent
                        </div>
                        <div class="gallery-nav prev-img">
                            <i class="fas fa-chevron-left"></i>
                        </div>
                        <div class="gallery-nav next-img">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2">Elegant Family Home</h3>
                        <p class="text-gray-500 mb-4">789 Maple Street, Seattle, WA</p>
                        <div class="flex justify-between mb-4">
                            <span class="text-2xl font-bold text-purple-600">$3,500/mo</span>
                            <button class="text-blue-600 hover:underline" onclick="addToCompare(3)">Compare</button>
                        </div>
                        <div class="flex justify-between text-gray-600 mb-6">
                            <span><i class="fas fa-bed mr-2"></i>3 Beds</span>
                            <span><i class="fas fa-bath mr-2"></i>2.5 Baths</span>
                            <span><i class="fas fa-ruler-combined mr-2"></i>2,100 Sq Ft</span>
                        </div>
                        <div class="flex space-x-3">
                            <button class="flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition">View Details</button>
                            <button class="bg-white border border-blue-600 text-blue-600 py-2 px-4 rounded-md hover:bg-blue-50 transition" onclick="openVirtualTour()">
                                <i class="fas fa-vr-cardboard mr-2"></i>Virtual Tour
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-12">
                <a href="#" class="inline-block bg-white border border-blue-600 text-blue-600 px-6 py-3 rounded-md hover:bg-blue-50 transition">
                    View All Properties
                </a>
            </div>
        </div>
    </section>

    <!-- Map View Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">Explore Properties on Map</h2>
            
            <div class="map-container rounded-lg overflow-hidden border border-gray-200">
                <!-- This would connect to a real map API in production -->
                <div class="w-full h-full bg-gray-100 flex items-center justify-center">
                    <!-- Simulated map markers -->
                    <div class="map-marker house w-6 h-6 rounded-full flex items-center justify-center text-white" style="top: 30%; left: 40%;" onmouseover="showMapPopup(1)" onmouseout="hideMapPopup(1)">
                        <i class="fas fa-home"></i>
                        <div id="map-popup-1" class="map-popup">
                            <div class="flex items-start">
                                <img src="https://images.unsplash.com/photo-1613977257363-707ba9348227?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="Property" class="w-16 h-16 object-cover rounded mr-3">
                                <div>
                                    <h4 class="text-sm font-semibold">Modern Waterfront Villa</h4>
                                    <p class="text-xs text-gray-500">Miami, FL</p>
                                    <p class="text-sm font-bold text-blue-600">$1,250,000</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="map-marker apartment w-6 h-6 rounded-full flex items-center justify-center text-white" style="top: 45%; left: 60%;" onmouseover="showMapPopup(2)" onmouseout="hideMapPopup(2)">
                        <i class="fas fa-building"></i>
                        <div id="map-popup-2" class="map-popup">
                            <div class="flex items-start">
                                <img src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="Property" class="w-16 h-16 object-cover rounded mr-3">
                                <div>
                                    <h4 class="text-sm font-semibold">Downtown Luxury Apartment</h4>
                                    <p class="text-xs text-gray-500">New York, NY</p>
                                    <p class="text-sm font-bold text-blue-600">$850,000</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="map-marker condo w-6 h-6 rounded-full flex items-center justify-center text-white" style="top: 60%; left: 30%;" onmouseover="showMapPopup(3)" onmouseout="hideMapPopup(3)">
                        <i class="fas fa-city"></i>
                        <div id="map-popup-3" class="map-popup">
                            <div class="flex items-start">
                                <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" alt="Property" class="w-16 h-16 object-cover rounded mr-3">
                                <div>
                                    <h4 class="text-sm font-semibold">Elegant Family Home</h4>
                                    <p class="text-xs text-gray-500">Seattle, WA</p>
                                    <p class="text-sm font-bold text-purple-600">$3,500/mo</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-500">Interactive map would be integrated here</p>
                </div>
                
                <div class="bg-white border-t border-gray-200 p-4 flex flex-wrap items-center justify-between">
                    <div class="flex space-x-6">
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600" checked>
                            <span class="ml-2 text-gray-700 flex items-center">
                                <span class="inline-block w-3 h-3 bg-blue-600 rounded-full mr-2"></span>Houses
                            </span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600" checked>
                            <span class="ml-2 text-gray-700 flex items-center">
                                <span class="inline-block w-3 h-3 bg-purple-600 rounded-full mr-2"></span>Apartments
                            </span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600" checked>
                            <span class="ml-2 text-gray-700 flex items-center">
                                <span class="inline-block w-3 h-3 bg-orange-600 rounded-full mr-2"></span>Condos
                            </span>
                        </label>
                    </div>
                    <div class="mt-4 md:mt-0">
                        <select class="px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option>For Sale & Rent</option>
                            <option>For Sale Only</option>
                            <option>For Rent Only</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Mortgage Calculator Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="bg-white rounded-lg shadow-md p-8">
                    <h2 class="text-2xl font-bold mb-6">Mortgage Calculator</h2>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-gray-700 text-sm font-medium mb-2">Home Price</label>
                            <div class="flex">
                                <span class="inline-flex items-center px-3 border border-r-0 border-gray-300 bg-gray-50 text-gray-500 rounded-l-md">
                                    $
                                </span>
                                <input type="text" value="500000" class="flex-1 px-4 py-2 border border-gray-300 rounded-r-md focus:outline-none focus:ring-2 focus:ring-blue-500" id="home-price">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-sm font-medium mb-2">Down Payment</label>
                            <div class="flex">
                                <span class="inline-flex items-center px-3 border border-r-0 border-gray-300 bg-gray-50 text-gray-500 rounded-l-md">
                                    $
                                </span>
                                <input type="text" value="100000" class="flex-1 px-4 py-2 border border-gray-300 rounded-r-md focus:outline-none focus:ring-2 focus:ring-blue-500" id="down-payment">
                            </div>
                            <div class="flex items-center justify-between mt-2">
                                <input type="range" min="0" max="100" value="20" class="w-2/3" id="down-payment-slider">
                                <span class="text-gray-700" id="down-payment-percentage">20%</span>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-sm font-medium mb-2">Loan Term</label>
                            <select class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" id="loan-term">
                                <option value="30">30 Years</option>
                                <option value="20">20 Years</option>
                                <option value="15">15 Years</option>
                                <option value="10">10 Years</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 text-sm font-medium mb-2">Interest Rate (%)</label>
                            <input type="text" value="4.5" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" id="interest-rate">
                        </div>
                        
                        <button onclick="calculateMortgage()" class="w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition">
                            Calculate
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-8">
                    <h2 class="text-2xl font-bold mb-6">Payment Summary</h2>
                    <div class="text-center mb-8">
                        <p class="text-gray-600 mb-2">Estimated Monthly Payment</p>
                        <p class="text-4xl font-bold text-blue-600" id="monthly-payment">$2,026</p>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex justify-between pb-2 border-b border-gray-200">
                            <span class="text-gray-600">Principal & Interest</span>
                            <span class="font-medium" id="principal-interest">$1,520</span>
                        </div>
                        <div class="flex justify-between pb-2 border-b border-gray-200">
                            <span class="text-gray-600">Property Tax</span>
                            <span class="font-medium" id="property-tax">$313</span>
                        </div>
                        <div class="flex justify-between pb-2 border-b border-gray-200">
                            <span class="text-gray-600">Home Insurance</span>
                            <span class="font-medium" id="home-insurance">$83</span>
                        </div>
                        <div class="flex justify-between pb-2 border-b border-gray-200">
                            <span class="text-gray-600">HOA Fees</span>
                            <span class="font-medium" id="hoa-fees">$110</span>
                        </div>
                    </div>
                    
                    <div class="mt-8">
                        <div class="bg-blue-50 p-4 rounded-md">
                            <h3 class="font-semibold text-blue-800 mb-2">Affordability</h3>
                            <p class="text-blue-700 text-sm">Based on your income of $8,000/month, this payment is within the recommended range of 28% of your monthly income.</p>
                        </div>
                        
                        <div class="mt-6">
                            <a href="#" class="text-blue-600 hover:underline text-sm flex items-center">
                                <i class="fas fa-file-pdf mr-2"></i>Download Complete Amortization Schedule
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Virtual Tour Modal -->
    <div id="virtual-tour-modal" class="virtual-tour-modal">
        <div class="virtual-tour-content">
            <span class="close-modal" onclick="closeVirtualTour()">&times;</span>
            <div class="rounded-lg overflow-hidden bg-white">
                <div style="padding-top:56.25%; position:relative; background-color: #000;">
                    <div style="position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); text-align:center; color:#fff;">
                        <i class="fas fa-cube text-6xl mb-4"></i>
                        <p>Virtual tour would be loaded here</p>
                        <p class="text-sm mt-2">Interactive 3D walkthrough experience</p>
                    </div>
                </div>
                <div class="p-6">
                    <h3 class="text-2xl font-bold mb-2">Virtual Tour</h3>
                    <p class="text-gray-600 mb-4">Experience this property from the comfort of your home with our interactive 3D virtual tour.</p>
                    <div class="flex space-x-4">
                        <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">
                            <i class="fas fa-vr-cardboard mr-2"></i>Enter VR Mode
                        </button>
                        <button class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-50 transition">
                            <i class="fas fa-expand-arrows-alt mr-2"></i>Fullscreen
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Property Comparison Tool -->
    <div id="compare-properties" class="compare-properties">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between mb-4">
                <h3 class="font-bold">Compare Properties</h3>
                <div class="flex space-x-4">
                    <button class="text-blue-600 hover:underline text-sm">Clear All</button>
                    <button class="bg-blue-600 text-white px-4 py-1 text-sm rounded-md hover:bg-blue-700 transition">Compare Now</button>
                    <button onclick="hideCompareBar()" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="grid grid-cols-4 gap-4" id="compare-list">
                <!-- Compare items will be added dynamically -->
            </div>
        </div>
    </div>

    <!-- Testimonials Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">What Our Clients Say</h2>
            
            <div class="relative testimonial-slider">
                <div class="overflow-hidden">
                    <div class="flex testimonial-slide">
                        <!-- Testimonial 1 -->
                        <div class="w-full md:w-1/3 px-4 flex-shrink-0">
                            <div class="bg-gray-50 p-8 rounded-lg shadow-sm h-full">
                                <div class="flex items-center mb-6">
                                    <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Client" class="w-12 h-12 rounded-full mr-4">
                                    <div>
                                        <h4 class="font-semibold">Jennifer Anderson</h4>
                                        <div class="flex text-yellow-400 mt-1">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <p class="text-gray-600 italic">"We couldn't be happier with our experience. The agent was knowledgeable, responsive, and helped us find our dream home in just two weeks. The mortgage calculator on the website was also incredibly helpful for our planning."</p>
                            </div>
                        </div>
                        
                        <!-- Testimonial 2 -->
                        <div class="w-full md:w-1/3 px-4 flex-shrink-0">
                            <div class="bg-gray-50 p-8 rounded-lg shadow-sm h-full">
                                <div class="flex items-center mb-6">
                                    <img src="https://randomuser.me/api/portraits/men/47.jpg" alt="Client" class="w-12 h-12 rounded-full mr-4">
                                    <div>
                                        <h4 class="font-semibold">Robert Johnson</h4>
                                        <div class="flex text-yellow-400 mt-1">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                        </div>
                                    </div>
                                </div>
                                <p class="text-gray-600 italic">"As a first-time seller, I was nervous about the process. The team guided me through every step, and the virtual tours feature helped my property stand out from the competition. Sold above asking price in just 10 days!"</p>
                            </div>
                        </div>
                        
                        <!-- Testimonial 3 -->
                        <div class="w-full md:w-1/3 px-4 flex-shrink-0">
                            <div class="bg-gray-50 p-8 rounded-lg shadow-sm h-full">
                                <div class="flex items-center mb-6">
                                    <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Client" class="w-12 h-12 rounded-full mr-4">
                                    <div>
                                        <h4 class="font-semibold">Maria Rodriguez</h4>
                                        <div class="flex text-yellow-400 mt-1">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <p class="text-gray-600 italic">"The map feature made house hunting so much easier. We were relocating to a new city and being able to see properties in different neighborhoods helped us narrow down our search quickly. The comparison tool was also invaluable!"</p>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="absolute left-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white rounded-full shadow-md flex items-center justify-center text-gray-600 hover:text-blue-600 focus:outline-none z-10 hidden md:flex" onclick="prevTestimonial()">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="absolute right-0 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-white rounded-full shadow-md flex items-center justify-center text-gray-600 hover:text-blue-600 focus:outline-none z-10 hidden md:flex" onclick="nextTestimonial()">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            
            <div class="flex justify-center mt-8">
                <span class="w-3 h-3 rounded-full bg-blue-600 mx-1"></span>
                <span class="w-3 h-3 rounded-full bg-gray-300 mx-1"></span>
                <span class="w-3 h-3 rounded-full bg-gray-300 mx-1"></span>
            </div>
        </div>
    </section>

    <!-- Contact Form and Newsletter Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Contact Form -->
                <div class="bg-white rounded-lg shadow-md p-8">
                    <h2 class="text-2xl font-bold mb-6">Contact an Agent</h2>
                    <form>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="name">Your Name</label>
                                <input id="name" type="text" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="John Doe">
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="email">Your Email</label>
                                <input id="email" type="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="john@example.com">
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="phone">Phone Number</label>
                                <input id="phone" type="tel" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="(123) 456-7890">
                            </div>
                            <div>
                                <label class="block text-gray-700 text-sm font-medium mb-2" for="interest">I'm Interested In</label>
                                <select id="interest" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    <option>Buying a Property</option>
                                    <option>Selling a Property</option>
                                    <option>Renting a Property</option>
                                    <option>Investment Opportunities</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-6">
                            <label class="block text-gray-700 text-sm font-medium mb-2" for="message">Message</label>
                            <textarea id="message" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Tell us what you're looking for..."></textarea>
                        </div>
                        <div class="flex items-center mb-6">
                            <input id="terms" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                            <label for="terms" class="ml-2 block text-sm text-gray-700">
                                I agree to the <a href="#" class="text-blue-600 hover:underline">terms and conditions</a>
                            </label>
                        </div>
                        <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700 transition">
                            Send Message
                        </button>
                    </form>
                </div>
                
                <!-- Newsletter -->
                <div>
                    <div class="bg-blue-600 rounded-lg shadow-md p-8 text-white mb-8">
                        <h2 class="text-2xl font-bold mb-4">Subscribe to Our Newsletter</h2>
                        <p class="mb-6">Stay updated with the latest properties, market trends, and real estate tips</p>
                        <form class="flex flex-col sm:flex-row gap-4">
                            <input type="email" placeholder="Your email address" class="flex-1 px-4 py-3 rounded-md focus:outline-none text-gray-700">
                            <button type="submit" class="bg-white text-blue-600 px-6 py-3 rounded-md hover:bg-gray-100 transition">
                                Subscribe
                            </button>
                        </form>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-8">
                        <h3 class="text-xl font-bold mb-4">Our Expertise</h3>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="flex-shrink-0 mt-1">
                                    <i class="fas fa-home text-blue-600 text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="font-medium">Residential Properties</h4>
                                    <p class="text-gray-600 text-sm mt-1">Expert guidance for buying and selling homes, condos, and apartments</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 mt-1">
                                    <i class="fas fa-building text-blue-600 text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="font-medium">Commercial Properties</h4>
                                    <p class="text-gray-600 text-sm mt-1">Solutions for office spaces, retail locations, and investment properties</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 mt-1">
                                    <i class="fas fa-chart-line text-blue-600 text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="font-medium">Investment Strategies</h4>
                                    <p class="text-gray-600 text-sm mt-1">Comprehensive advice for real estate investing and portfolio management</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <div>
                    <h3 class="text-xl font-bold mb-4">DreamHome</h3>
                    <p class="text-gray-300 mb-4">Your trusted partner in finding the perfect property. We've been connecting people with their dream homes since 2005.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-300 hover:text-white">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-white">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-white">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-white">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white">Home</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Properties</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Agents</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Blog</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Contact Us</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4">Property Types</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white">Houses</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Apartments</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Condos</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Commercial</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Land</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4">Contact Information</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i class="fas fa-map-marker-alt mt-1 mr-3 text-blue-400"></i>
                            <span>123 Real Estate Street<br>New York, NY 10001</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone-alt mr-3 text-blue-400"></i>
                            <span>(123) 456-7890</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-3 text-blue-400"></i>
                            <span>info@dreamhome.com</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-700 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-400 text-sm mb-4 md:mb-0">&copy; 2023 DreamHome Real Estate. All rights reserved.</p>
                    <div class="flex space-x-6">
                        <a href="#" class="text-gray-400 hover:text-white text-sm">Privacy Policy</a>
                        <a href="#" class="text-gray-400 hover:text-white text-sm">Terms of Service</a>
                        <a href="#" class="text-gray-400 hover:text-white text-sm">Sitemap</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });
        
        // Property favoriting
        function toggleFavorite(el) {
            el.classList.toggle('active');
            const icon = el.querySelector('i');
            if (icon.classList.contains('far')) {
                icon.classList.remove('far');
                icon.classList.add('fas');
                icon.style.color = '#e53e3e';
            } else {
                icon.classList.remove('fas');
                icon.classList.add('far');
                icon.style.color = '#718096';
            }
        }
        
        // Virtual tour modal
        function openVirtualTour() {
            document.getElementById('virtual-tour-modal').style.display = 'block';
        }
        
        function closeVirtualTour() {
            document.getElementById('virtual-tour-modal').style.display = 'none';
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('virtual-tour-modal');
            if (event.target == modal) {
                closeVirtualTour();
            }
        }
        
        // Property comparison tool
        function addToCompare(propertyId) {
            const compareList = document.getElementById('compare-list');
            const compareBar = document.getElementById('compare-properties');
            
            // Check if property is already added
            if (document.getElementById('compare-item-' + propertyId)) {
                return;
            }
            
            // Simple property data mapping (this would come from your database)
            const properties = {
                1: {
                    title: "Modern Waterfront Villa",
                    price: "$1,250,000",
                    image: "https://images.unsplash.com/photo-1613977257363-707ba9348227?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80"
                },
                2: {
                    title: "Downtown Luxury Apartment",
                    price: "$850,000",
                    image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80"
                },
                3: {
                    title: "Elegant Family Home",
                    price: "$3,500/mo",
                    image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80"
                }
            };
            
            const property = properties[propertyId];
            
            // Create comparison item
            const item = document.createElement('div');
            item.id = 'compare-item-' + propertyId;
            item.className = 'compare-property bg-white rounded-lg shadow-sm overflow-hidden';
            item.innerHTML = `
                <div class="relative">
                    <img src="${property.image}" alt="${property.title}" class="w-full h-24 object-cover">
                    <button class="remove-compare" onclick="removeFromCompare(${propertyId})">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-3">
                    <h4 class="font-medium text-sm">${property.title}</h4>
                    <p class="text-blue-600 font-bold">${property.price}</p>
                </div>
            `;
            
            compareList.appendChild(item);
            compareBar.style.display = 'block';
        }
        
        function removeFromCompare(propertyId) {
            const item = document.getElementById('compare-item-' + propertyId);
            item.remove();
            
            // Hide bar if no items left
            const compareList = document.getElementById('compare-list');
            if (compareList.children.length === 0) {
                hideCompareBar();
            }
        }
        
        function hideCompareBar() {
            document.getElementById('compare-properties').style.display = 'none';
        }
        
        // Map popup functions
        function showMapPopup(id) {
            document.getElementById('map-popup-' + id).style.display = 'block';
        }
        
        function hideMapPopup(id) {
            document.getElementById('map-popup-' + id).style.display = 'none';
        }
        
        // Testimonial slider
        let testimonialIndex = 0;
        
        function showTestimonial(index) {
            const slides = document.querySelector('.testimonial-slide');
            testimonialIndex = index;
            slides.style.transform = `translateX(-${index * 33.33}%)`;
        }
        
        function nextTestimonial() {
            if (testimonialIndex < 2) {
                showTestimonial(testimonialIndex + 1);
            } else {
                showTestimonial(0);
            }
        }
        
        function prevTestimonial() {
            if (testimonialIndex > 0) {
                showTestimonial(testimonialIndex - 1);
            } else {
                showTestimonial(2);
            }
        }
        
        // Mortgage Calculator
        function calculateMortgage() {
            const homePrice = parseFloat(document.getElementById('home-price').value.replace(/,/g, ''));
            const downPayment = parseFloat(document.getElementById('down-payment').value.replace(/,/g, ''));
            const loanTerm = parseInt(document.getElementById('loan-term').value);
            const interestRate = parseFloat(document.getElementById('interest-rate').value);
            
            const loanAmount = homePrice - downPayment;
            const monthlyInterest = interestRate / 100 / 12;
            const payments = loanTerm * 12;
            
            const x = Math.pow(1 + monthlyInterest, payments);
            const monthly = (loanAmount * x * monthlyInterest) / (x - 1);
            
            const monthlyPayment = monthly.toFixed(2);
            const principalInterest = monthly.toFixed(2);
            const propertyTax = (homePrice * 0.0075 / 12).toFixed(2);
            const homeInsurance = (homePrice * 0.002 / 12).toFixed(2);
            
            document.getElementById('monthly-payment').innerText = '$' + numberWithCommas(monthlyPayment);
            document.getElementById('principal-interest').innerText = '$' + numberWithCommas(principalInterest);
            document.getElementById('property-tax').innerText = '$' + numberWithCommas(propertyTax);
            document.getElementById('home-insurance').innerText = '$' + numberWithCommas(homeInsurance);
        }
        
        // Helper function to format numbers with commas
        function numberWithCommas(x) {
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        
        // Down payment slider
        const downPaymentSlider = document.getElementById('down-payment-slider');
        const downPaymentInput = document.getElementById('down-payment');
        const homePriceInput = document.getElementById('home-price');
        const downPaymentPercentage = document.getElementById('down-payment-percentage');
        
        downPaymentSlider.addEventListener('input', function() {
            const percentage = this.value;
            const homePrice = parseFloat(homePriceInput.value.replace(/,/g, ''));
            const downPayment = (homePrice * percentage / 100).toFixed(0);
            
            downPaymentInput.value = downPayment;
            downPaymentPercentage.innerText = percentage + '%';
        });
        
        downPaymentInput.addEventListener('input', function() {
            const downPayment = parseFloat(this.value.replace(/,/g, ''));
            const homePrice = parseFloat(homePriceInput.value.replace(/,/g, ''));
            const percentage = (downPayment / homePrice * 100).toFixed(0);
            
            if (percentage >= 0 && percentage <= 100) {
                downPaymentSlider.value = percentage;
                downPaymentPercentage.innerText = percentage + '%';
            }
        });
    </script>
</body>
</html>

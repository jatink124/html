<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Guest Service Manager</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font family -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb; /* Light background for dashboard feel */
        }
        .app-container {
            min-height: 100vh;
        }
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
    </style>
</head>
<body class="selection:bg-teal-200 selection:text-teal-900">

    <div class="app-container p-4 sm:p-8">
        <!-- Header -->
        <header class="mb-8 p-4 bg-white shadow-xl rounded-xl border-t-4 border-teal-500">
            <h1 class="text-3xl font-bold text-gray-800 flex items-center">
                <!-- Icon (Luggage) -->
                <svg class="w-8 h-8 mr-3 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
                Guest Service Request Manager
            </h1>
            <p class="text-gray-500 mt-1">Centralized log for amenities, maintenance, and special guest needs.</p>
        </header>

        <!-- Status Dashboard (Like P&L Summary) -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="p-5 bg-white rounded-xl shadow-md border-l-4 border-indigo-500">
                <p class="text-sm font-medium text-gray-500">Total Requests</p>
                <p class="text-3xl font-bold text-gray-900 mt-1">125</p>
            </div>
            <div class="p-5 bg-white rounded-xl shadow-md border-l-4 border-yellow-500">
                <p class="text-sm font-medium text-gray-500">Pending / Urgent</p>
                <p class="text-3xl font-bold text-yellow-700 mt-1">14</p>
            </div>
            <div class="p-5 bg-white rounded-xl shadow-md border-l-4 border-green-500">
                <p class="text-sm font-medium text-gray-500">Completed Today</p>
                <p class="text-3xl font-bold text-green-700 mt-1">68</p>
            </div>
        </div>

        <!-- Dynamic Request Form & Custom Field Management -->
        <section class="bg-white p-6 rounded-xl shadow-xl mb-8">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Log New Service Request</h2>
            <form id="requestForm" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <input type="hidden" id="requestId">

                <!-- Standard Fields -->
                <div class="col-span-1">
                    <label for="roomNumber" class="block text-sm font-medium text-gray-700">Room Number</label>
                    <input type="text" id="roomNumber" placeholder="e.g., 501" required class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                </div>
                 <div class="col-span-1">
                    <label for="guestName" class="block text-sm font-medium text-gray-700">Guest Name (Optional)</label>
                    <input type="text" id="guestName" placeholder="John Doe" class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                </div>
                <div class="col-span-1">
                    <label for="urgency" class="block text-sm font-medium text-gray-700">Urgency Level</label>
                    <select id="urgency" class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                        <option>Low</option>
                        <option>Medium</option>
                        <option>High (30 min target)</option>
                    </select>
                </div>
               
                <!-- Dynamic Custom Fields Container (for inputs) -->
                <div id="customFieldsContainer" class="col-span-1 md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- Example default custom fields rendered by JS logic -->
                    <div class="col-span-1 flex items-center pt-2">
                        <input type="checkbox" id="custom-extra-towels" name="custom-extra-towels" class="h-4 w-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500">
                        <label for="custom-extra-towels" class="block text-sm font-medium text-gray-700 ml-2">Extra Towels</label>
                    </div>
                    <div class="col-span-1">
                        <label for="custom-delivery-time" class="block text-sm font-medium text-gray-700">Preferred Delivery Time</label>
                        <input type="time" id="custom-delivery-time" name="custom-delivery-time" class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                    </div>
                     <div class="col-span-1">
                        <label for="custom-source" class="block text-sm font-medium text-gray-700">Request Source</label>
                        <input type="text" id="custom-source" name="custom-source" placeholder="e.g., App, Call, Walk-in" class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                    </div>
                </div>

                <div class="col-span-1 md:col-span-3">
                    <label for="notes" class="block text-sm font-medium text-gray-700">Staff/Request Notes</label>
                    <textarea id="notes" rows="2" class="mt-1 p-2 w-full border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500"></textarea>
                </div>


                <!-- Submit Button -->
                <div class="md:col-span-3 pt-4 flex justify-end space-x-4">
                    <button type="submit" class="w-full md:w-auto px-6 py-2 bg-teal-600 text-white font-medium rounded-lg shadow-md hover:bg-teal-700 transition duration-150 ease-in-out">
                        Log Request
                    </button>
                    <button type="button" id="resetFormButton" class="w-full md:w-auto px-6 py-2 border border-gray-300 text-gray-700 bg-white font-medium rounded-lg shadow-sm hover:bg-gray-50 transition duration-150 ease-in-out">
                        Clear Form
                    </button>
                </div>
            </form>

            <!-- Custom Field Addition & Management -->
            <div class="mt-8 border-t pt-4">
                <h3 class="text-lg font-medium text-gray-700 mb-3">Add Custom Service/Amenity Field</h3>
                <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 mb-6">
                    <input type="text" id="newFieldName" placeholder="Enter new amenity (e.g., Laundry Service Notes)" class="p-2 flex-grow border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500">
                    
                    <!-- Field Type Dropdown -->
                    <select id="newFieldType" class="p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500 w-full sm:w-auto">
                        <option value="text">Text (Short Answer)</option>
                        <option value="number">Number (Quantity)</option>
                        <option value="textarea">Long Text (Instructions)</option>
                        <option value="checkbox">Checkbox (Quick Toggle)</option>
                        <option value="date">Date Picker (Appointment)</option>
                        <option value="time">Time Input (Delivery/Pickup)</option>
                        <option value="dropdown">Dropdown (Priority Tag)</option>
                    </select>
                    
                    <button type="button" onclick="addCustomField()" class="px-4 py-2 bg-green-500 text-white font-medium rounded-lg shadow-md hover:bg-green-600 transition duration-150 ease-in-out">
                        Add Field
                    </button>
                </div>

                <!-- List of existing custom fields for removal -->
                <div id="fieldManagementList" class="flex flex-wrap gap-2">
                    <span class="px-3 py-1 bg-gray-200 text-gray-700 text-sm font-medium rounded-full">Extra Towels (checkbox)</span>
                    <span class="px-3 py-1 bg-gray-200 text-gray-700 text-sm font-medium rounded-full">Preferred Delivery Time (time)</span>
                    <span class="px-3 py-1 bg-gray-200 text-gray-700 text-sm font-medium rounded-full">Request Source (text)</span>
                    <!-- Dynamic fields would be inserted here -->
                </div>
            </div>
        </section>


        <!-- Service Log Table (Trade History Equivalent) -->
        <section class="bg-white p-6 rounded-xl shadow-xl">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Active Service Log</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Time Logged</th>
                            <th scope="col" class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Room # / Guest</th>
                            <th scope="col" class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Urgency</th>
                            <th scope="col" class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                            <th scope="col" class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Extra Towels (Custom)</th>
                            <th scope="col" class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Delivery Time (Custom)</th>
                            <th scope="col" class="px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <!-- Sample Data 1 (Pending High Urgency) -->
                        <tr class="hover:bg-red-50/50 transition duration-100 ease-in-out">
                            <td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">10:45 AM</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-900 font-medium">1205 (Ms. Smith)</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-red-600 font-semibold">High</td>
                            <td class="px-3 py-4 whitespace-nowrap">
                                <span class="status-badge bg-red-100 text-red-800">Pending</span>
                            </td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-green-500">Yes ✅</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">ASAP</td>
                            <td class="px-3 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2">
                                <button class="text-indigo-600 hover:text-indigo-900 transition duration-150">Edit</button>
                                <button class="text-green-600 hover:text-green-900 transition duration-150">Complete</button>
                            </td>
                        </tr>
                        <!-- Sample Data 2 (In Progress Medium Urgency) -->
                        <tr class="hover:bg-yellow-50/50 transition duration-100 ease-in-out">
                            <td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900">11:02 AM</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-900">801</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-yellow-600 font-semibold">Medium</td>
                            <td class="px-3 py-4 whitespace-nowrap">
                                <span class="status-badge bg-yellow-100 text-yellow-800">In Progress</span>
                            </td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-red-500">No ❌</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">11:30 AM</td>
                            <td class="px-3 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2">
                                <button class="text-indigo-600 hover:text-indigo-900 transition duration-150">Edit</button>
                                <button class="text-green-600 hover:text-green-900 transition duration-150">Complete</button>
                            </td>
                        </tr>
                        <!-- Sample Data 3 (Completed Low Urgency) -->
                        <tr class="hover:bg-gray-50 transition duration-100 ease-in-out">
                            <td class="px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-500">09:15 AM</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">312</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-green-600">Low</td>
                            <td class="px-3 py-4 whitespace-nowrap">
                                <span class="status-badge bg-green-100 text-green-800">Completed</span>
                            </td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-green-500">Yes ✅</td>
                            <td class="px-3 py-4 whitespace-nowrap text-sm text-gray-500">09:30 AM</td>
                            <td class="px-3 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2">
                                <button class="text-gray-400 cursor-not-allowed transition duration-150" disabled>Edit</button>
                                <button class="text-red-600 hover:text-red-900 transition duration-150">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </div>
</body>
</html>